<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kalshi Analytics Dashboard</title>
    <!-- Chart.js for graphs -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <!-- Top navigation / header -->
    <header class="navbar">
        <h1 class="app-title">Kalshi Analytics Dashboard</h1>
        <div class="nav-metrics">
            <div class="nav-metric">
                <span id="nav-portfolio-value" class="metric-value">$0</span>
                <span class="metric-label">Portfolio</span>
            </div>
            <div class="nav-metric">
                <span id="nav-total-invested" class="metric-value">$0</span>
                <span class="metric-label">Invested</span>
            </div>
            <div class="nav-metric">
                <span id="nav-realized-pnl" class="metric-value">$0</span>
                <span class="metric-label">Realized P&amp;L</span>
            </div>
        </div>
    </header>

    <!-- Main app content -->
    <main>
        <!-- Overview cards -->
        <section class="cards-grid">
            <div class="card">
                <h2>Summary</h2>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <span id="portfolio-value" class="metric-value">$0</span>
                        <span class="metric-label">Portfolio Value</span>
                    </div>
                    <div class="metric-card">
                        <span id="total-invested" class="metric-value">$0</span>
                        <span class="metric-label">Total Invested</span>
                    </div>
                    <div class="metric-card">
                        <span id="cash-invested" class="metric-value">$0</span>
                        <span class="metric-label">Cash Invested</span>
                    </div>
                    <div class="metric-card">
                        <span id="reinvested" class="metric-value">$0</span>
                        <span class="metric-label">Reinvested</span>
                    </div>
                    <div class="metric-card">
                        <span id="realized-pnl" class="metric-value">$0</span>
                        <span class="metric-label">Realized P&amp;L</span>
                    </div>
                    <div class="metric-card">
                        <span id="return-rate" class="metric-value">0%</span>
                        <span class="metric-label">Return Rate</span>
                    </div>
                </div>
            </div>
            <!-- Donut chart for investment breakdown -->
            <div class="card chart-card">
                <h2>Investment Breakdown</h2>
                <canvas id="investment-breakdown-chart"></canvas>
            </div>
            <!-- Line chart for performance over time -->
            <div class="card chart-card">
                <h2>Performance Over Time</h2>
                <canvas id="performance-chart"></canvas>
            </div>
        </section>

        <!-- Table of recent trades -->
        <section class="table-section">
            <h2>Recent Fills</h2>
            <div class="table-wrapper">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Ticker</th>
                            <th>Action</th>
                            <th>Size</th>
                            <th>Price</th>
                            <th>Cost</th>
                        </tr>
                    </thead>
                    <tbody id="fills-table-body">
                        <tr><td colspan="6" class="placeholder">Loading…</td></tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Table of settlements / closed trades -->
        <section class="table-section">
            <h2>Recent Settlements</h2>
            <div class="table-wrapper">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Ticker</th>
                            <th>Outcome</th>
                            <th>Cash Change</th>
                        </tr>
                    </thead>
                    <tbody id="settlements-table-body">
                        <tr><td colspan="4" class="placeholder">Loading…</td></tr>
                    </tbody>
                </table>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="app-footer">
        <p>Auto-refreshes every <span id="refresh-interval-label">60</span>s.</p>
        <button id="refresh-button">Refresh now</button>
    </footer>

    <script src="app.js"></script>
</body>
</html>
